hostclass: mapproxy
monitors:
  cpu:
    max_check_attempts: 5
    run_every: 60
    shell_command: /usr/local/libexec/check_sar -S cpu -t wio=20:50,idle=50:30
  disk_space:
    run_every: 60
    shell_command: /usr/local/libexec/check_disk_space_all -t min_free_pct=10:7
  http:
    run_every: 60
    shell_command: /usr/local/libexec/check_http -U 'http://localhost:8080/status' -w 1 -c 2
  iostat:
    run_every: 60
    shell_command: /usr/local/libexec/check_iostat -t max_tps=750:1000
  load:
    run_every: 60
    shell_command: /usr/local/libexec/check_sar -S load -t five=18:24
  mem:
    run_every: 60
    shell_command: /usr/local/libexec/check_sar -S mem -t available=500M:250M
  net_eth0:
    run_every: 60
    shell_command: /usr/local/libexec/check_sar -S net -D eth0 -t bytes_in=65M:95M,bytes_out=65M:95M
  ntp:
    run_every: 300
    shell_command: /usr/local/nagios/libexec/check_ntp_time -H ns1 -w 1 -c 2
  ssh:
    run_every: 60
    shell_command: /usr/local/libexec/check_ssh -w 0.5 -c 1
  swap:
    run_every: 60
    shell_command: /usr/local/libexec/check_sar -S swap -t faults=500:1000
notify:
- geo-mapproxy-alerts@groupon.com
- sre-alert-testing@groupon.com
packages:
  failsafe:
  - configurate-2013.07.01_13.57
  - cron-4.1p6
  - epkg-2.3.9_groupon1
  - foreman-2014.04.14_12.17
  - init_functions-2011.11.01_21.36
  - lockrun-2011.09.02_15.52
  - ncurses-5.7
  - ntp-4.2.6p8
  - openssl-1.0.0d
  - rsync-3.0.8pre1
  - ruby-ee_1.8.7_2011.12
  - system_settings-2012.02.23_18.39
  - vim-7.3
  production:
  - autoconf-2.68
  - automake-1.9.6
  - configurate-2014.07.09_15.47
  - cron-4.1p6
  - curl-7.21.4
  - db-5.1.25.NC
  - encaptools-2012.03.09_02.10
  - epkg-2.3.9_groupon1
  - expat-2.0.1
  - foreman-2014.04.14_12.17
  - fping-2.4b2
  - gcc-4.5.2
  - gdb-7.3.1
  - gem_fastercsv-1.5.4
  - gem_ipaddress-0.8.0
  - gem_json-1.8.0
  - gem_mixlib_cli-1.3.0
  - gem_mixlib_config-2.0.0
  - gem_mixlib_log-1.6.0
  - gem_mixlib_shellout-1.2.0
  - gem_monitoring_script-16
  - gem_ohai-6.20.0
  - gem_systemu-2.5.2
  - gem_yajl_ruby-1.1.0
  - glib-2.29.2
  - groupon_monitoring_scripts-2013.10.31_21.49
  - htop-0.9
  - iftop-0.17
  - init_functions-2011.11.01_21.36
  - iotop-0.4.4_py2.7
  - iptraf-3.0.0
  - java-1.6.0_24
  - jprofile_roller-2012.04.09_23.53
  - libidn-1.9
  - libpcap-1.1.1
  - lockrun-2011.09.02_15.52
  - logrotate-3.8.1
  - logrotate_config-2013.04.30_03.05
  - lsof-4.85
  - lsscsi-0.26
  - make-3.81
  - mapproxy_mapproxy_service-2016.05.30_21.20
  - mcelog-1.0
  - monitord-2014.12.16_17.42
  - motd-2011.09.10_16.16
  - nagios_plugins-1.4.15
  - nc-1.84_10
  - ncurses-5.7
  - ntp-4.2.6p8
  - openssl-1.0.0d
  - overseer-2013.12.02_10.13
  - pciutils-3.1.9p2
  - perl-5.12.3
  - pm_Carp_Clan-6.04_p5.12
  - pm_Term_ReadLine_Gnu-1.20_p5.12
  - pm_Text_CSV_XS-0.80_p5.12
  - pm_TimeDate-1.20_p5.12
  - postfix-2.8.7_p17.5
  - postgresql-9.2.2
  - python-2.7.1
  - rb_auto_gem-2011.03.17_16.20_r1.8
  - readline-6.2
  - rsync-3.0.8pre1
  - ruby-ee_1.8.7_2011.12
  - splunk-5.0.5
  - splunk_forwarder-2014.05.06_08.28
  - srm-1.2.11
  - strace-4.5.20
  - sysstat-10.0.5_p2
  - system_settings-2012.02.23_18.39
  - tcpdump-4.1.1
  - top-3.8beta1
  - traceroute-2.0.18
  - vim-7.3
